---
import Layout from '../layouts/Layout.astro';

// Get the device type from URL parameters
const { device } = Astro.url.searchParams;

// Map of device types to emoji and display names
const deviceConfig = {
  fitbit: { emoji: 'âŒš', name: 'Fitbit' },
  // Add more devices as needed
  default: { emoji: 'ðŸ”—', name: 'Device' }
};

// Get the configuration for the current device, fallback to default if not found
const { emoji, name } = deviceConfig[device] || deviceConfig.default;
---

<Layout title="CalorieBot - Device Connected">
  <main class="min-h-screen bg-dark flex items-center justify-center">
    <div class="container mx-auto px-4 max-w-lg text-center">
      <div class="bg-secondary p-8 rounded-lg shadow-lg">
        <div class="text-5xl mb-6">{emoji}</div>
        <h1 class="text-3xl font-bold text-discord mb-4">Connection Successful!</h1>
        <p class="text-gray-300 mb-6">
          Your {name} has been successfully connected to CalorieBot.
        </p>
        <a
          href="/dashboard"
          class="block bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
        >
          Return to Dashboard
        </a>
      </div>
    </div>
  </main>
</Layout>
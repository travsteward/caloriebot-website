---
import Layout from '../layouts/Layout.astro';
import FeatureCard from '../components/FeatureCard.astro';

// Add Discord client ID
const DISCORD_CLIENT_ID = import.meta.env.DISCORD_CLIENT_ID;
---

<Layout title="CalorieBot - Monetize Your Fitness Community">
  <main class="pt-20">
    <section class="bg-dark text-white py-20">
      <div class="container mx-auto px-4 max-w-4xl">
        <h1 class="text-4xl font-bold mb-6">Monetize Your Audience Instantly</h1>
        <p class="text-xl mb-12">Transform your influence into impact with a ready-to-launch fitness community</p>

        <div class="grid md:grid-cols-3 gap-8 mb-16">
          <FeatureCard
            title="Day One Ready"
            description="Complete fitness platform with automated tracking, challenges, and revenue systems - ready to launch instantly."
            icon="ðŸŽ¯"
          />
          <FeatureCard
            title="Zero Headaches"
            description="The platform handles all the heavy lifting, letting you focus on creating content and inspiring your audience."
            icon="âš¡"
          />
          <FeatureCard
            title="Built for Growth"
            description="Create a thriving ecosystem where your fans don't just chat - they transform together as a community."
            icon="ðŸŒŸ"
          />
        </div>

        <div class="mb-16">
          <h2 class="text-3xl font-bold mb-8">Plug & Play Platform</h2>
          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-secondary rounded-lg p-6">
              <h3 class="text-xl font-bold mb-4">Built-In Features</h3>
              <ul class="space-y-3 text-gray-300">
                <li>â€¢ AI photo food tracking</li>
                <li>â€¢ Workout logging</li>
                <li>â€¢ Progress metrics</li>
                <li>â€¢ Community challenges</li>
                <li>â€¢ Accountability systems</li>
              </ul>
            </div>
            <div class="bg-secondary rounded-lg p-6">
              <h3 class="text-xl font-bold mb-4">Automated Systems</h3>
              <ul class="space-y-3 text-gray-300">
                <li>â€¢ Automated progress tracking</li>
                <li>â€¢ Self-running weekly challenges</li>
                <li>â€¢ Built-in accountability features</li>
                <li>â€¢ Instant member onboarding</li>
                <li>â€¢ Community-driven support</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="mb-16">
          <h2 class="text-3xl font-bold mb-8">Premium Experience</h2>
          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-secondary rounded-lg p-6">
              <h3 class="text-xl font-bold mb-4">Member Experience</h3>
              <ul class="space-y-3 text-gray-300">
                <li>â€¢ Easy onboarding</li>
                <li>â€¢ Clear daily targets</li>
                <li>â€¢ Social sharing</li>
                <li>â€¢ Progress celebration</li>
                <li>â€¢ Community support</li>
              </ul>
            </div>
            <div class="bg-secondary rounded-lg p-6">
              <h3 class="text-xl font-bold mb-4">Revenue Drivers</h3>
              <ul class="space-y-3 text-gray-300">
                <li>â€¢ Monthly memberships</li>
                <li>â€¢ Automated billing</li>
                <li>â€¢ Scalable pricing</li>
                <li>â€¢ Zero overhead</li>
                <li>â€¢ Instant setup</li>
              </ul>
            </div>
          </div>
        </div>

        <div>
          <h2 class="text-3xl font-bold mb-8">Immediate Impact</h2>
          <p class="text-gray-300 mb-8">Launch a serious health and wellness community within days. Whether you're in lifestyle, stress management, or general wellness, CalorieBot turns your audience's trust into a profitable, engaging community that delivers real transformations.</p>
          <p class="text-gray-300">Turn your following into a cherished asset that generates consistent revenue while changing lives. No coaching experience required - just your vision and our technology.</p>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section class="bg-dark">
      <div class="container mx-auto px-4 max-w-5xl">
        <h2 class="text-3xl font-bold text-white text-center mb-12">Simple, Transparent Pricing</h2>
        <div class="grid gap-6 mx-auto">
          <!-- Starter -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Starter</h3>
              <p class="text-3xl font-bold text-discord mb-2">$29<span class="text-sm text-gray-400">/month</span></p>
              <p class="text-gray-400">Up to 3 active members</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <p class="text-gray-300">Perfect for small fitness groups</p>
              <ul class="text-gray-300 list-disc list-inside">
                <li>All core features included</li>
                <li>AI photo tracking</li>
                <li>Guided workouts</li>
                <li>Challenge system</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QjsjILK64haKytlUJnHI6bo"
              >
                Get Started
              </button>
            </div>
          </div>

          <!-- Growth -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Growth</h3>
              <p class="text-3xl font-bold text-discord mb-2">$99<span class="text-sm text-gray-400">/month</span></p>
              <p class="text-gray-400">Up to 12 active members</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <p class="text-gray-300">For growing communities</p>
              <ul class="text-gray-300 list-disc list-inside">
                <li>Everything in Starter +</li>
                <li>Retention analytics</li>
                <li>Group coaching tools</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QjsjFLK64haKytlEccmqs7i"
              >
                Get Started
              </button>
            </div>
          </div>

          <!-- Plus (formerly Pro) -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Plus</h3>
              <p class="text-3xl font-bold text-discord mb-2">$249<span class="text-sm text-gray-400">/month</span></p>
              <p class="text-gray-400">Up to 35 active members</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <p class="text-gray-300">For established communities</p>
              <ul class="text-gray-300 list-disc list-inside">
                <li>Everything in Growth +</li>
                <li>1-1 Coaching Tools</li>
                <li>Advanced reporting</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QjsjKLK64haKytlh1GJPwQb"
              >
                Get Started
              </button>
            </div>
          </div>

          <!-- Pro -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Pro</h3>
              <p class="text-3xl font-bold text-discord mb-2">$459<span class="text-sm text-gray-400">/month</span></p>
              <p class="text-gray-400">Up to 75 active members</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <p class="text-gray-300">For growing large communities</p>
              <ul class="text-gray-300 list-disc list-inside">
                <li>Everything in Plus +</li>
                <li>Priority support</li>
                <li>Custom onboarding</li>
                <li>Advanced analytics</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QkYErLK64haKytlQNHgb9r6"
              >
                Get Started
              </button>
            </div>
          </div>

          <!-- Elite -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Elite</h3>
              <p class="text-3xl font-bold text-discord mb-2">$999<span class="text-sm text-gray-400">/month</span></p>
              <p class="text-gray-400">Up to 200 active members</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <p class="text-gray-300">For large communities</p>
              <ul class="text-gray-300 list-disc list-inside">
                <li>Everything in Pro +</li>
                <li>Custom features requests</li>
                <li>Premium support</li>
                <li>Growth mentorship discord</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QjsjBLK64haKytlmgH3MV3i"
              >
                Get Started
              </button>
            </div>
          </div>

          <!-- Partner -->
          <div class="bg-secondary rounded-lg p-6 flex flex-col md:flex-row items-center justify-between hover:bg-opacity-80 transition-all">
            <div class="md:w-1/4 text-center md:text-left">
              <h3 class="text-2xl font-bold text-white mb-2">Partner</h3>
              <p class="text-3xl font-bold text-discord mb-2">Custom<span class="text-sm text-gray-400"> pricing</span></p>
              <p class="text-gray-400">For large fitness coaching communities</p>
            </div>
            <div class="md:w-2/4 text-center md:text-left my-4 md:my-0">
              <ul class="text-gray-300 list-disc list-inside">
                <li>Partnership % pricing model</li>
                <li>Full server design & branding</li>
                <li>1-1 Growth mentorship</li>
                <li>Priority support</li>
              </ul>
            </div>
            <div class="md:w-1/4 text-center">
              <button
                class="checkout-button bg-discord hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-full transition-colors"
                data-price-id="price_1QjsAmLK64haKytlJFI5Lngl"
              >
                Contact Us
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<!-- Add the script section at the end -->
<script define:vars={{ DISCORD_CLIENT_ID }}>
  document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll("[data-price-id]").forEach((button) => {
      button.addEventListener("click", () => {
        const priceId = button.getAttribute("data-price-id");
        const planName = button.closest('.bg-secondary').querySelector('h3').textContent;
        const price = button.closest('.bg-secondary').querySelector('.text-3xl').textContent;

        // Track checkout initiation
        sa_event("checkout_page_visit", {
          price_id: priceId,
          plan_name: planName,
          price: price,
          page: 'creators'
        });

        const params = new URLSearchParams({
          client_id: DISCORD_CLIENT_ID,
          response_type: "code",
          scope: "identify email",
          redirect_uri: "https://caloriebot.ai/oauth/discord/callback",
          state: priceId,
          prompt: "consent",
        });

        const discordUrl = `https://discord.com/api/oauth2/authorize?${params}`;
        window.location.href = discordUrl;
      });
    });
  });
</script>